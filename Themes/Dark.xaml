<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <SolidColorBrush x:Key="App.Background"             Color="#1F1F1F"/>
    <SolidColorBrush x:Key="App.Panel"                  Color="#262626"/>
    <SolidColorBrush x:Key="App.ControlBackground"      Color="#2B2B2B"/>
    <SolidColorBrush x:Key="App.InputBackground"        Color="#303030"/>
    <SolidColorBrush x:Key="App.Border"                 Color="#3E3E3E"/>
    <SolidColorBrush x:Key="App.Foreground"             Color="#EAEAEA"/>
    <SolidColorBrush x:Key="App.Muted"                  Color="#B7B7B7"/>
    <SolidColorBrush x:Key="App.Accent"                 Color="#6FB0FF"/>
    <SolidColorBrush x:Key="App.PanelBg"                Color="#232323"/>
    <SolidColorBrush x:Key="App.PanelBorder"            Color="#3A3A3A"/>

    <SolidColorBrush x:Key="Btn.Background"             Color="#333333"/>
    <SolidColorBrush x:Key="Btn.Foreground"             Color="#FFFFFFFF"/>
    <SolidColorBrush x:Key="Btn.Border"                 Color="#555555"/>
    <SolidColorBrush x:Key="Btn.Hover"                  Color="#404040"/>
    <SolidColorBrush x:Key="Btn.Pressed"                Color="#2A2A2A"/>
    <SolidColorBrush x:Key="Btn.DisabledBg"             Color="#2A2A2A"/>
    <SolidColorBrush x:Key="Btn.DisabledFg"             Color="#66FFFFFF"/>
    
    <SolidColorBrush x:Key="Tab.Header.Bg"              Color="#262626"/>
    <SolidColorBrush x:Key="Tab.Header.Fg"              Color="#DADADA"/>
    <SolidColorBrush x:Key="Tab.Header.Bg.Selected"     Color="#333333"/>
    <SolidColorBrush x:Key="Tab.Header.Fg.Selected"     Color="#FFFFFF"/>
    <SolidColorBrush x:Key="Tab.Header.Bg.Hover"        Color="#2E2E2E"/>
    <SolidColorBrush x:Key="Tab.Header.Fg.Disabled"     Color="#7A7A7A"/>
    
    <SolidColorBrush x:Key="ListHeaderBackgroundDark"   Color="#2B2B2B"/>
    <SolidColorBrush x:Key="ListHeaderForegroundDark"   Color="#FFFFFFFF"/>

    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"      Color="#444444"/>
    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}"  Color="#FFFFFF"/>
    <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}"         Color="#2B2B2B"/>
    <SolidColorBrush x:Key="{x:Static SystemColors.WindowTextBrushKey}"     Color="#EAEAEA"/>

    <Style TargetType="Window">
        <Setter Property="Background" Value="{DynamicResource App.Background}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
    </Style>

    <Style TargetType="TabControl">
        <Setter Property="Background" Value="{DynamicResource App.Background}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
    </Style>

    <Style TargetType="TabItem">
        <Setter Property="Foreground" Value="{DynamicResource Tab.Header.Fg}"/>
        <Setter Property="Background" Value="{DynamicResource Tab.Header.Bg}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="BorderThickness" Value="1,1,1,0"/>
        <Setter Property="Padding" Value="10,4"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Border x:Name="bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3,3,0,0"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter ContentSource="Header" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="bd" Property="Background" Value="{DynamicResource Tab.Header.Bg.Selected}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Tab.Header.Fg.Selected}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="bd" Property="Background" Value="{DynamicResource Tab.Header.Bg.Hover}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{DynamicResource Tab.Header.Fg.Disabled}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="Border">
        <Setter Property="Background"  Value="{DynamicResource App.PanelBg}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.PanelBorder}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="4"/>
        <Setter Property="Padding" Value="0"/>
    </Style>

    <Style TargetType="TextBlock">
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
    </Style>

    <Style TargetType="Button">
        <Setter Property="Background" Value="{DynamicResource Btn.Background}"/>
        <Setter Property="Foreground" Value="{DynamicResource Btn.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource Btn.Border}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3">
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          RecognizesAccessKey="True"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="bd" Property="Background" Value="{DynamicResource Btn.Hover}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Btn.Foreground}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="bd" Property="Background" Value="{DynamicResource Btn.Pressed}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Btn.Foreground}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="bd" Property="Background" Value="{DynamicResource Btn.DisabledBg}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Btn.DisabledFg}"/>
                            <Setter Property="BorderBrush" Value="{DynamicResource Btn.DisabledBg}"/>
                        </Trigger>
                        <Trigger Property="IsDefaulted" Value="True">
                            <Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource App.Accent}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="TextBox">
        <Setter Property="Background" Value="{DynamicResource App.InputBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="CaretBrush" Value="{DynamicResource App.Accent}"/>
    </Style>

    <Style TargetType="ListBox">
        <Setter Property="Background" Value="{DynamicResource App.ControlBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
    </Style>

    <Style TargetType="ListView">
        <Setter Property="Background" Value="{DynamicResource App.ControlBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
    </Style>

    <Style TargetType="DataGrid">
        <Style.Resources>
            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#3B5A85"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}"   Color="#3B5A85"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="#FFFFFF"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}"        Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.WindowTextBrushKey}"    Color="#EAEAEA"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.GrayTextBrushKey}"      Color="#7A7A7A"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="#444444"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}" Color="#B7B7B7"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InfoBrushKey}"          Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InfoTextBrushKey}"      Color="#EAEAEA"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.MenuBrushKey}"          Color="#2B2B2B"/>
        </Style.Resources>

        <Setter Property="Background" Value="{DynamicResource App.ControlBackground}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="RowBackground" Value="#2F2F2F"/>
        <Setter Property="AlternatingRowBackground" Value="#333333"/>
        <Setter Property="HorizontalGridLinesBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="VerticalGridLinesBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="EnableRowVirtualization" Value="True"/>
        <Setter Property="ColumnHeaderHeight" Value="26"/>
        <Setter Property="RowHeight" Value="26"/>
        <Setter Property="ColumnHeaderStyle">
            <Setter.Value>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background"  Value="{DynamicResource App.Panel}"/>
                    <Setter Property="Foreground"  Value="{DynamicResource App.Muted}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
                </Style>
            </Setter.Value>
        </Setter>
        
        <Setter Property="RowHeaderStyle">
            <Setter.Value>
                <Style TargetType="DataGridRowHeader">
                    <Setter Property="Background"  Value="{DynamicResource App.Panel}"/>
                    <Setter Property="Foreground"  Value="{DynamicResource App.Muted}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type GridViewColumnHeader}">
        <Setter Property="Background" Value="{DynamicResource ListHeaderBackgroundDark}"/>
        <Setter Property="Foreground" Value="{DynamicResource ListHeaderForegroundDark}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="Padding" Value="6,2"/>
        <Setter Property="FontWeight" Value="SemiBold"/>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type GridViewColumnHeader}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="0,0,0,1"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          RecognizesAccessKey="True"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="ScrollViewer">
        <Setter Property="Background" Value="{DynamicResource App.InputBackground}"/>
    </Style>

    <Style TargetType="{x:Type ComboBox}">
        <Style.Resources>
            <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}"                      Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.WindowTextBrushKey}"                  Color="#EAEAEA"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}"                     Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"                   Color="#444444"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}"               Color="#FFFFFF"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.MenuBrushKey}"                        Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.MenuTextBrushKey}"                    Color="#FFFFFF"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InfoBrushKey}"                        Color="#2B2B2B"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InfoTextBrushKey}"                    Color="#EAEAEA"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.GrayTextBrushKey}"                    Color="#7A7A7A"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}"  Color="#444444"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}" Color="#B7B7B7"/>
        </Style.Resources>

        <Setter Property="Background"  Value="{DynamicResource App.InputBackground}"/>
        <Setter Property="Foreground"  Value="{DynamicResource App.Foreground}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="ScrollViewer.Background" Value="{DynamicResource App.ControlBackground}"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBox}">
                    <Grid>
                        <ToggleButton x:Name="ToggleButton"
                                      Background="{TemplateBinding Background}"
                                      Foreground="{TemplateBinding Foreground}"
                                      BorderBrush="{TemplateBinding BorderBrush}"
                                      BorderThickness="{TemplateBinding BorderThickness}"
                                      IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                      Focusable="False"
                                      ClickMode="Press"
                                      HorizontalAlignment="Stretch"
                                      HorizontalContentAlignment="Stretch">
                            <ToggleButton.Style>
                                <Style TargetType="ToggleButton">
                                    <Setter Property="Background"   Value="{Binding Background,   RelativeSource={RelativeSource TemplatedParent}}"/>
                                    <Setter Property="BorderBrush"  Value="{Binding BorderBrush,  RelativeSource={RelativeSource TemplatedParent}}"/>
                                    <Setter Property="Foreground"   Value="{Binding Foreground,   RelativeSource={RelativeSource TemplatedParent}}"/>
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource Btn.Hover}"/>
                                            <Setter Property="BorderBrush" Value="{DynamicResource Btn.Border}"/>
                                        </Trigger>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource Btn.Pressed}"/>
                                            <Setter Property="BorderBrush" Value="{DynamicResource Btn.Border}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ToggleButton.Style>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <ContentPresenter Margin="6,2"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Stretch"
                                                  TextBlock.TextAlignment="Left"
                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                  ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"/>
                                
                                <Path Grid.Column="1"
                                      HorizontalAlignment="Right"
                                      VerticalAlignment="Center"
                                      Margin="0,0,6,0"
                                      Width="10" Height="6"
                                      Stretch="Uniform"
                                      Fill="{DynamicResource App.Foreground}"
                                      Data="M 0 0 L 10 0 L 5 6 Z"/>
                            </Grid>
                        </ToggleButton>
                        
                        <Popup x:Name="Popup"
                               Placement="Bottom"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               AllowsTransparency="True"
                               Focusable="False"
                               PopupAnimation="Slide">
                            <Border Background="{DynamicResource App.ControlBackground}"
                                    BorderBrush="{DynamicResource App.Border}"
                                    BorderThickness="1"
                                    Width="{TemplateBinding ActualWidth}">
                                <ScrollViewer>
                                    <StackPanel IsItemsHost="True"/>
                                </ScrollViewer>
                            </Border>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="{x:Type ComboBoxItem}">
                    <Setter Property="Background" Value="{DynamicResource App.ControlBackground}"/>
                    <Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
                    <Setter Property="Padding"    Value="6,3"/>
                    <Style.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter Property="Background" Value="{DynamicResource Btn.Hover}"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="{DynamicResource Btn.Pressed}"/>
                            <Setter Property="Foreground" Value="{DynamicResource Btn.Foreground}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
